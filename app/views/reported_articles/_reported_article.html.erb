<div id="<%= dom_id reported_article %>">
  <img src="<%= reported_article.media %>" class="img-fluid card-img-top">
  
  <div class="card-body">
    <small>
      <strong>Source:</strong>
      <%= reported_article.source %>
    </small>
    <br>
    <small>
      <strong>Author:</strong>
      <%= reported_article.author %>
    </small>
    <br>
    <h3 class="card-title">
      <strong><%= reported_article.title %></strong>
    </h3>

  
    <h4 class="card-text" style="color:#8A8A8A">
      <%= reported_article.description %>
    </h4>
    <br>
    <h6 class="card-text" style="color:#CACACA">
      <%= reported_article.summary %>
    </h6>
    <br>
    <small>
      <a href="<%= reported_article.link %>"><%= reported_article.link %></a>
    </small>
    <br>
    <small style="color:#CACACA">
      <strong>Publication:</strong>
      <%= reported_article.publication %>
    </small>

    <div class="container mt-3">
      <%if ArticleComment.find_by(article_id: reported_article.article_id)%>
        <p><i>Nessun commento</i></p>
      <%else%>
        <div id="accordion">
          <div class="d-grid">
            <a class="buttonclass" data-bs-toggle="collapse" href="#collapse_<%= reported_article.id %>">
              VISUALIZZA/NASCONDI COMMENTI
            </a>
          </div>
          <div id="collapse_<%= reported_article.id %>" class="collapse" data-bs-parent="#accordion">
            <br>
            <table class="table table-hover table-sm" style="border-collapse: collapse; width: 100%;">
              <thead style="background-color:green; color:white;">
                <tr>
                  <th scope="col" style="border: 1px solid #dddddd;">AUTORE</th>
                  <th scope="col" style="border: 1px solid #dddddd;">COMMENTO</th>
                </tr>
              </thead>
              <tbody>
                <%ArticleComment.where(article_id: reported_article.article_id).each do |comment|%>
                  <tr>
                    <td style="border: 1px solid #dddddd;"><%= comment.author %></td>
                    <td style="border: 1px solid #dddddd;"><%= comment.description %></td> 
                  </tr>
                <%end%>
              </tbody>
            </table>
          </div>
        </div>
      <%end%>
    </div>    
  </div>

  <div class="card-footer">
    <%= link_to 'Visualizza', reported_article, { class: 'buttonclass'} %>

    <%if current_user%>
      <%if (current_user.id == params[:user_id].to_i || current_user.id == params[:id].to_i )%>
        <%= link_to 'Elimina', reported_article, method: :delete, data: { confirm: 'Sei sicuro?' },class:"buttonclass" %>
      <%else%>
      <%end%>
    <%end%>
  </div>
</div>
